<div class="container mt-58">

  <form (ngSubmit)="onNewEstateFormSubmit()" #newEstate="ngForm" enctype="multipart/form-data">
    <div class="row">
      <div class="col-2"></div>

      <div class="align-center col-8">
        <h2>Publish Estate</h2>

        <hr class="colorgraph">

        <div class="form-group row">
          <label for="action" class="col-4 mt-3">Action</label><br/>
          <div class="col-2"></div>
          <div class="mt-3 col-5 row" id="action">
            <!--style="margin-right: 20px"-->
            <div class="col-2">
              <input type="radio" required name="action" value="rent" [(ngModel)]="requestModel.action">Rent
            </div>
            <div class="col-8"></div>
            <div class="col-2">
              <input type="radio" name="action" value="sell" [(ngModel)]="requestModel.action">Sale
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label for="type" class="col-4">Type</label>
          <div class="col-2"></div>
          <div class="form-group col-5">
            <select id="type" class="form-control" name="city" [(ngModel)]="requestModel.type" required>
              <option *ngFor="let type of types" value="{{type.typeName}}">{{type.typeName}}</option>
            </select>
          </div>
        </div>

        <div class="form-group row">
          <label for="city" class="col-4">City</label>
          <div class="col-2"></div>
          <div class="form-group col-5">
            <select id="city" class="form-control" name="city" [(ngModel)]="requestModel.city" required>
              <option *ngFor="let city of cities" value="{{city.name}}">{{city.name}}</option>
            </select>
          </div>
        </div>

        <div class="form-group row">
          <label for="area" class="col-4">Area</label>
          <div class="col-2"></div>
          <div class="form-group col-5">
            <input id="area" type="number" step="0.01" class="form-control" required placeholder="Area"
                   [min]="1" [(ngModel)]="requestModel.area" name="area" #area="ngModel">

            <div [hidden]="area.valid || area.pristine" class="invalid-feedback">
              Area must be valid number.
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label for="price" class="col-4">Price Per Meter</label>
          <div class="col-2"></div>
          <div class="form-group col-5">
            <input id="price" type="number" step="0.01" class="form-control" required placeholder="Price Per Meter"
                   [min]="1" [(ngModel)]="requestModel.price" name="price" #price="ngModel">

            <div [hidden]="price.valid || price.pristine" class="invalid-feedback">
              Price must be valid decimal.
            </div>
          </div>
        </div>

        <hr class="colorgraph">

        <div class="form-group row">
          <label for="coverImage" class="col-4">Cover Image</label>
          <div class="col-2"></div>
          <div class="form-group col-5">
            <input id="coverImage" class="form-control mt-3" required type="text" name="coverImage"
                   [(ngModel)]="requestModel.coverImage"
                   #coverImage="ngModel">
          </div>
        </div>

        <div class="row">
          <div class="col-5"></div>
          <div class="arrow-down" *ngIf="!showMore" (click)="onArrowClick()"></div>
          <div class="arrow-up" *ngIf="showMore" (click)="onArrowClick()"></div>
          <div class="col-5"></div>
        </div>

        <div *ngIf="showMore">
          <div class="form-group row">
            <label for="firstImage" class="col-4">Image</label>
            <div class="col-2"></div>
            <div class="form-group col-5">
              <input id="firstImage" class="form-control mt-3" type="text" name="firstImage"
                     [(ngModel)]="requestModel.firstImage"
                     #firstImage="ngModel">
            </div>
          </div>

          <div class="form-group row">
            <label for="secondImage" class="col-4">Image</label>
            <div class="col-2"></div>
            <div class="form-group col-5">
              <input id="secondImage" class="form-control mt-3" type="text" name="secondImage"
                     [(ngModel)]="requestModel.secondImage"
                     #secondImage="ngModel">
            </div>
          </div>

          <div class="form-group row">
            <label for="thirdImage" class="col-4">Image</label>
            <div class="col-2"></div>
            <div class="form-group col-5">
              <input id="thirdImage" class="form-control mt-3" type="text" name="thirdImage"
                     [(ngModel)]="requestModel.thirdImage"
                     #thirdImage="ngModel">
            </div>
          </div>
        </div>

        <hr class="colorgraph">

        <div class="form-group row">
          <label for="info" class="col-4">Additional Info</label>
          <div class="col-2"></div>
          <div class="form-group col-5">
            <textarea required [minlength]="20" id="info" type="number" class="form-control"
                      placeholder="Additional Info"
                      [(ngModel)]="requestModel.additionalInfo" name="additionalInfo"></textarea>
          </div>
        </div>

        <div class="form-group row">
          <label for="peculiarities" class="col-4">Peculiarities</label>
          <div class="col-2"></div>

          <div class="col-4 row">
            <div id="peculiarities" class="row" *ngFor="let peculiarity of peculiarities; let i = index">
              <div class="col-3">
                <input type="checkbox"
                       [name]="'peculiarities'+i"
                       [(ngModel)]="peculiarity.checked"
                       value="{{peculiarity.id}}">
                {{peculiarity.name}}
              </div>
            </div>
          </div>
        </div>

        <hr class="colorgraph">

        <div class="col-12">
          <input type="submit" value="Publish Estate" class="btn btn-success btn-block btn-lg mb-5 mt-4" tabindex="7"
                 [disabled]="newEstate.form.invalid ">
        </div>

      </div>

      <div class="col-2"></div>
    </div>
  </form>

</div>
